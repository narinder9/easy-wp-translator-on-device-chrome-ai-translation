(()=>{"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],d=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(e){l=!0,a=e}finally{try{if(!d&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return c}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r={wrapper:null,init:function(){"loading"!==document.readyState?r.ready():document.addEventListener("DOMContentLoaded",r.ready)},ready:function(){r.wrapper=document.getElementById("menu-to-edit"),r.wrapper&&(r.wrapper.addEventListener("click",r.printMetabox),r.wrapper.addEventListener("change",r.ensureContent),r.wrapper.addEventListener("change",r.showHideRows))},printMetabox:{handleEvent:function(e){if(e.target.classList.contains("item-edit")){var a=e.target.closest(".menu-item").querySelector(".menu-item-settings");if(null!=a&&a.id&&a.querySelectorAll('input[value="#ewt_switcher"][type=text]').length){(l=a.children,function(e){if(Array.isArray(e))return n(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||t(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e){"P"!==e.nodeName||e.classList.contains("field-move")||e.remove()});var i=r.printMetabox,o=Number(a.id.replace("menu-item-settings-",""));a.append(i.createHiddenInput("title",o,ewt_data.title)),a.append(i.createHiddenInput("url",o,"#ewt_switcher")),a.append(i.createHiddenInput("ewt-detect",o,1));var c=Array("hide_if_no_translation","hide_current","force_home","show_flags","show_names","dropdown"),d=void 0!==ewt_data.val[o];c.forEach(function(e){var t=i.createElement("p",{class:"description"});"hide_current"===e&&d&&1===ewt_data.val[o].dropdown&&t.classList.add("hidden"),a.prepend(t);var n="edit-menu-item-".concat(e,"-").concat(o),r=i.createElement("label",{for:n});r.innerText=" ".concat(ewt_data.strings[e]),t.append(r);var c=i.createElement("input",{type:"checkbox",id:n,name:"menu-item-".concat(e,"[").concat(o,"]"),value:1});(d&&1===ewt_data.val[o][e]||!d&&"show_names"===e)&&(c.checked=!0),r.prepend(c)})}}var l},createHiddenInput:function(e,t,n){return r.printMetabox.createElement("input",{type:"hidden",id:"edit-menu-item-".concat(e,"-").concat(t),name:"menu-item-".concat(e,"[").concat(t,"]"),value:n})},createElement:function(t,n){for(var r=document.createElement(t),a=0,i=Object.entries(n);a<i.length;a++){var o=e(i[a],2),c=o[0],d=o[1];r.setAttribute(c,d)}return r}},ensureContent:{regExpr:new RegExp(/^edit-menu-item-show_(names|flags)-(\d+)$/),handleEvent:function(t){if(t.target.id&&!t.target.checked){var n=t.target.id.match(r.ensureContent.regExpr);if(n){var a=e(n,3),i=a[1],o=a[2],c="names"===i?"flags":"names";document.getElementById("edit-menu-item-show_".concat(c,"-").concat(o)).checked=!0}}}},showHideRows:{regExpr:new RegExp(/^edit-menu-item-dropdown-(\d+)$/),handleEvent:function(e){if(e.target.id){var t=e.target.id.match(r.showHideRows.regExpr);if(t){var n=document.getElementById("edit-menu-item-hide_current-".concat(t[1]));n&&(n.closest(".description").classList.toggle("hidden",e.target.checked),e.target.checked&&(n.checked=!1,n.dispatchEvent(new Event("change"))))}}}}};r.init()})();