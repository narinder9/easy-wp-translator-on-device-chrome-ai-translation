(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}!function(){var e=wp.i18n.__,t=wp.blocks,r=t.registerBlockType,o=t.createBlock,a=wp.element.Fragment,l=wp.blockEditor||wp.editor,i=l.InspectorControls,s=l.useBlockProps,c=wp.components,u=c.PanelBody,p=c.ToggleControl,w=c.Disabled,m=wp.serverSideRender&&wp.serverSideRender.default||wp.serverSideRender,d=wp.hooks.addFilter,b=function(){return wp.element.createElement("span",{className:"easywptranslator-block-icon",style:{fontFamily:"easywptranslator",fontSize:"20px",lineHeight:"1",display:"inline-block"}},"î¤€")},g=function(){return wp.element.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",fill:"none"},wp.element.createElement("path",{d:"M1.5 4L6 8l4.5-4",strokeWidth:1.5,stroke:"currentColor"}))},f={dropdown:{type:"boolean",default:!1},show_names:{type:"boolean",default:!0},show_flags:{type:"boolean",default:!1},force_home:{type:"boolean",default:!1},hide_current:{type:"boolean",default:!1},hide_if_no_translation:{type:"boolean",default:!1}};function h(t){var r=t.attributes,o=t.setAttributes,a=t.showHideCurrentEvenInDropdown,l=void 0!==a&&a,s=r.dropdown,c=r.show_names,w=r.show_flags,m=r.force_home,d=r.hide_current,b=r.hide_if_no_translation,g=function(e){var t,a;o((t=e,!1===(a=n(n({},r),t)).show_names&&!1===a.show_flags&&(void 0!==t.show_names?a.show_flags=!0:a.show_names=!0),a))};return wp.element.createElement(i,{},wp.element.createElement(u,{title:e("Language switcher settings","easywptranslator")},wp.element.createElement(p,{label:e("Display as dropdown","easywptranslator"),checked:!!s,onChange:function(e){return g({dropdown:!!e})}}),(!s||l)&&wp.element.createElement(p,{label:e("Show language names","easywptranslator"),checked:!!c,onChange:function(e){return g({show_names:!!e})}}),(!s||l)&&wp.element.createElement(p,{label:e("Show flags","easywptranslator"),checked:!!w,onChange:function(e){return g({show_flags:!!e})}}),wp.element.createElement(p,{label:e("Force switch to homepage","easywptranslator"),checked:!!m,onChange:function(e){return g({force_home:!!e})}}),!r.dropdown&&wp.element.createElement(p,{label:e("Hide current language","easywptranslator"),checked:!!d,onChange:function(e){return g({hide_current:!!e})}}),wp.element.createElement(p,{label:e("Hide languages without translation","easywptranslator"),checked:!!b,onChange:function(e){return g({hide_if_no_translation:!!e})}})))}r("easywptranslator/language-switcher",{title:e("Language switcher","easywptranslator"),description:e("Add a language switcher so visitors can select their preferred language.","easywptranslator"),icon:b,category:"widgets",attributes:n({},f),supports:{html:!1},edit:function(t){var n=s?s():{};return wp.element.createElement(a,{},wp.element.createElement(h,{attributes:t.attributes,setAttributes:t.setAttributes}),wp.element.createElement(w,{},m?wp.element.createElement(m,{block:"easywptranslator/language-switcher",attributes:t.attributes}):wp.element.createElement("div",n,e("Language Switcher preview (SSR not available).","easywptranslator"))))},save:function(){return null}});var y="easywptranslator/navigation-language-switcher";function v(e,t,r,o){var a=function(e){var l=o(e,t,r),i=(l.innerBlocks||[]).map(function(e){return a(e)});return n(n({},l),{},{innerBlocks:i})};return e.map(a)}function k(e,t,n){if("core/navigation-link"===e.name&&e.attributes&&"#ewt_switcher"===e.attributes.url){var r=(t||[]).find(function(e){return e&&"#ewt_switcher"===e.url}),a=r&&r.meta&&r.meta._ewt_menu_item||{},l=o(y,a);return r&&void 0!==r.id&&(n[r.id]=l.clientId),l}return e}r(y,{title:e("Language switcher","easywptranslator"),description:e("Add a language switcher to the Navigation block.","easywptranslator"),icon:b,category:"widgets",parent:["core/navigation"],attributes:n({},f),usesContext:["textColor","customTextColor","backgroundColor","customBackgroundColor","overlayTextColor","customOverlayTextColor","overlayBackgroundColor","customOverlayBackgroundColor","fontSize","customFontSize","showSubmenuIcon","openSubmenusOnClick","style"],transforms:{from:[{type:"block",blocks:["core/navigation-link"],transform:function(){return o(y)}}]},edit:function(t){var n=t.attributes,r=t.setAttributes,o=t.context||{},l=o.showSubmenuIcon,i=o.openSubmenusOnClick,s=n.dropdown&&(l||i)?wp.element.createElement("span",{className:"wp-block-navigation__submenu-icon"},wp.element.createElement(g)):null;return wp.element.createElement(a,{},wp.element.createElement(h,{attributes:n,setAttributes:r,showHideCurrentEvenInDropdown:!0}),wp.element.createElement(w,{},wp.element.createElement("div",{className:"wp-block-navigation-item"},m?wp.element.createElement(m,{block:y,attributes:n,className:"wp-block-navigation__container block-editor-block-list__layout"}):wp.element.createElement("div",{},e("Language Switcher (Navigation) preview (SSR not available).","easywptranslator")),s)))},save:function(){return null}}),d("blocks.navigation.__unstableMenuItemsToBlocks","easywptranslator/include-language-switcher",function(e,t){return n(n({},e),{},{innerBlocks:v(e.innerBlocks||[],t||[],e.mapping||{},k)})})}()})();